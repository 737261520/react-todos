{"version":3,"sources":["progress.js"],"names":[],"mappings":";;AAAA,IAAI,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAGrC,IAAI,gBAAgB,GAAG,SAAnB,gBAAgB,CAAY,WAAW,EAAE,UAAU,EAAE;AACvD,cAAY,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;;AAGjD,MAAI,CAAC,cAAc,GAAG,UAAS,GAAG,EAAE;AAClC,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;GACnD,CAAC;;AAGF,MAAI,CAAC,WAAW,GAAG,YAAW;AAC5B,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;GAC7B,CAAC;;AAGF,MAAI,CAAC,iBAAiB,GAAG,YAAW;AAClC,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;GAC7B,CAAC;;AAEF,MAAI,CAAC,UAAU,GAAG,YAAW;AAC3B,QAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACpB,QAAI,CAAC,WAAW,GAAG,KAAK,CAAC;GAC1B,CAAC;;AAEF,MAAI,CAAC,cAAc,GAAG,UAAS,OAAO,EAAE;AACtC,QAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;AAE7B,QAAI,IAAI,CAAC,WAAW,EAAE;AACpB,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;KAClB;;AAED,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;GAC7B,CAAC;;AAGF,MAAI,CAAC,OAAO,GAAG,YAAW;AACxB,QAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,aAAO,EAAE,CAAC;KACX;;AAED,QAAI,GAAG,GAAG,EAAE,CAAC;AACb,QAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAW;AAChC,SAAG,IAAI,WAAS,GAAG,WAAS,CAAC;KAC9B,CAAC,CAAC;;AAEH,QAAI,CAAC,WAAW,GAAG,KAAK,CAAC;;AAEzB,WAAO,GAAG,CAAC;GACZ,CAAC;;AAEF,MAAI,CAAC,OAAO,GAAG,YAAW;AACxB,QAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;AAExB,WAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;GACjE,CAAC;;AAEF,MAAI,CAAC,QAAQ,GAAG,YAAW;AACzB,WAAO,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;GACxC,CAAC;CACH,CAAC;;;AAIF,MAAM,CAAC,OAAO,GAAG,gBAAgB,CAAC","file":"progress-compiled.js","sourcesContent":["var BaseReporter = require('./base');\n\n\nvar ProgressReporter = function(formatError, reportSlow) {\n  BaseReporter.call(this, formatError, reportSlow);\n\n\n  this.writeCommonMsg = function(msg) {\n    this.write(this._remove() + msg + this._render());\n  };\n\n\n  this.specSuccess = function() {\n    this.write(this._refresh());\n  };\n\n\n  this.onBrowserComplete = function() {\n    this.write(this._refresh());\n  };\n\n  this.onRunStart = function() {\n    this._browsers = [];\n    this._isRendered = false;\n  };\n\n  this.onBrowserStart = function(browser) {\n    this._browsers.push(browser);\n\n    if (this._isRendered) {\n      this.write('\\n');\n    }\n\n    this.write(this._refresh());\n  };\n\n\n  this._remove = function() {\n    if (!this._isRendered) {\n      return '';\n    }\n\n    var cmd = '';\n    this._browsers.forEach(function() {\n      cmd += '\\x1B[1A' + '\\x1B[2K';\n    });\n\n    this._isRendered = false;\n\n    return cmd;\n  };\n\n  this._render = function() {\n    this._isRendered = true;\n\n    return this._browsers.map(this.renderBrowser).join('\\n') + '\\n';\n  };\n\n  this._refresh = function() {\n    return this._remove() + this._render();\n  };\n};\n\n\n// PUBLISH\nmodule.exports = ProgressReporter;\n"]}